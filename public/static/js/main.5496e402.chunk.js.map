{"version":3,"sources":["shared/components/UIElement/Avatar.js","shared/components/UIElement/Card.js","user/components/UserItem.js","user/components/UsersList.js","user/pages/Users.js","shared/util/validators.js","shared/components/FormElement/Input.js","shared/components/FormElement/Button.js","shared/components/UIElement/Backdrop.js","shared/components/UIElement/Modal.js","shared/components/UIElement/ErrorModal.js","shared/components/FormElement/ImageUpload.js","shared/context/auth-context.js","shared/hooks/form-hook.js","places/pages/NewPlace.js","shared/components/Navigation/MainHeader.js","shared/components/Navigation/NavLinks.js","shared/components/Navigation/SideDrawer.js","shared/components/Navigation/MainNavigation.js","places/components/PlaceItem.js","places/components/PlaceList.js","shared/components/UIElement/LoadingSpinner.js","places/pages/UserPlaces.js","places/pages/UpdatePlace.js","user/pages/Auth.js","App.js","index.js"],"names":["Avatar","props","className","style","src","image","alt","width","height","Card","children","UserItem","to","id","process","name","textTransform","placesCount","length","UsersList","items","map","user","key","_id","places","Users","useState","data","setData","loading","setLoading","error","setError","useEffect","a","axios","url","res","status","users","response","message","sendRequest","Fragment","VALIDATOR_MINLENGTH","val","type","validate","value","validators","isValid","validator","trim","test","inputReducer","state","action","isTouched","Input","useReducer","initialValue","initialValid","inputState","dispatch","onInput","changeHandler","event","target","touchHandler","element","onChange","onBlur","placeholder","rows","htmlFor","label","errorText","Button","href","size","inverse","danger","exact","onClick","disabled","Backdrop","ReactDOM","createPortal","document","getElementById","ModalOverlay","content","headerClass","header","onSubmit","preventDefault","contentClass","footerClass","footer","Modal","show","onCancel","CSSTransition","in","mountOnEnter","unmountOnExit","timeout","classNames","ErrorModal","onClear","ImageUpload","file","setFile","previewUrl","setPreviewUrl","setIsValid","filePickerRef","useRef","fileReader","FileReader","onload","result","readAsDataURL","ref","display","accept","pickedFile","fileIsValid","files","center","current","click","AuthContext","createContext","currentUserId","isLoggedIn","login","logout","formReducer","formIsValid","inputId","inputs","useForm","initialInputs","initialFormValidity","formState","useCallback","inputData","formValidity","NewPlace","auth","useContext","history","useHistory","title","description","address","InputHandler","onSubmitHandler","formData","FormData","append","method","headers","authorization","localStorage","getItem","push","MainHeader","NavLinks","logoutUser","SideDrawer","ReactDom","MainNavigation","drawerOpen","setDrawerOpen","closeDrawer","PlaceItem","confirmDelete","setConfirmDelete","cancelConfirmDelete","sendDelete","console","log","onDelete","PlaceList","item","creatorId","creator","coordinates","loaction","deletePlace","LoadingSpinner","asOverlay","UserPlaces","userId","useParams","todelete","prevData","filter","place","UpdatePlace","placeId","loadedPlace","setLoadedPlace","setFormData","placeUpdateSubmitHandler","e","Auth","isLoginMode","setIsLoginMode","email","password","inputHandler","authSubmitHandler","token","undefined","prevMode","App","routes","setIsLoggedIn","storage","setStorage","setCurrentUserId","setItem","clear","storedToken","storedId","path","Provider","render"],"mappings":"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","file":"static/js/main.5496e402.chunk.js","sourcesContent":["import React from 'react';\n\nimport './Avatar.css';\n\nconst Avatar = props => {\n  return (\n    <div className={`avatar ${props.className}`} style={props.style}>\n      <img\n        src={props.image}\n        alt={props.alt}\n        style={{ width: props.width, height: props.width }}\n      />\n    </div>\n  );\n};\n\nexport default Avatar;\n","import React from 'react';\n\nimport './Card.css';\n\nconst Card = props => {\n  return (\n    <div className={`card ${props.className}`} style={props.style}>\n      {props.children}\n    </div>\n  );\n};\n\nexport default Card;\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./UserItem.css\";\r\nimport Avatar from \"../../shared/components/UIElement/Avatar\";\r\nimport Card from \"../../shared/components/UIElement/Card\";\r\nconst UserItem = (props) => {\r\n  return (\r\n    <li className=\"user-item\">\r\n      <Card className=\"user-item__content\">\r\n        <Link to={`/${props.id}/places`}>\r\n          <div className=\"user-item__image\">\r\n            <Avatar\r\n              image={`${process.env.REACT_APP_ASSET_URL}/${props.image}`}\r\n              alt={props.name}\r\n            />\r\n          </div>\r\n          <div className=\"user-item__info\">\r\n            <h2 style={{ textTransform: \"capitalize\" }}>{props.name}</h2>\r\n            <h3>\r\n              {props.placesCount.length}\r\n              {props.placesCount.length === 1 ? \"  place\" : \"  places\"}\r\n            </h3>\r\n          </div>\r\n        </Link>\r\n      </Card>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default UserItem;\r\n","import React from \"react\";\r\nimport \"./UsersList.css\";\r\nimport UserItem from \"./UserItem\";\r\nimport Card from \"../../shared/components/UIElement/Card\";\r\nconst UsersList = (props) => {\r\n  if (props.items.length === 0) {\r\n    return (\r\n      <Card>\r\n        <h2 className=\"center\">No users found</h2>\r\n      </Card>\r\n    );\r\n  } else {\r\n    return (\r\n      <ul className=\"users-list\">\r\n        {props.items.map((user, key) => {\r\n          return (\r\n            <UserItem\r\n              key={user._id}\r\n              id={user._id}\r\n              name={user.name}\r\n              image={user.image}\r\n              placesCount={user.places}\r\n            />\r\n          );\r\n        })}\r\n      </ul>\r\n    );\r\n  }\r\n};\r\n\r\nexport default UsersList;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport UsersList from \"../components/UsersList\";\r\nimport axios from \"axios\";\r\n\r\nconst Users = (props) => {\r\n  const [data, setData] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState();\r\n\r\n  useEffect(() => {\r\n    const sendRequest = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const res = await axios({\r\n          url: `${process.env.REACT_APP_BACKEND_URL}/users/`,\r\n        });\r\n        if (res.data.status === \"success\") {\r\n          setData(res.data.users);\r\n          setLoading(false);\r\n        }\r\n      } catch (err) {\r\n        setLoading(false);\r\n        setError(err.response.data.message);\r\n      }\r\n    };\r\n    sendRequest();\r\n  }, []);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {!loading && error && (\r\n        <div className=\"center\">\r\n          <h2>{error}</h2>\r\n        </div>\r\n      )}\r\n      {!loading && data && <UsersList items={data} />}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","const VALIDATOR_TYPE_REQUIRE = 'REQUIRE';\nconst VALIDATOR_TYPE_MINLENGTH = 'MINLENGTH';\nconst VALIDATOR_TYPE_MAXLENGTH = 'MAXLENGTH';\nconst VALIDATOR_TYPE_MIN = 'MIN';\nconst VALIDATOR_TYPE_MAX = 'MAX';\nconst VALIDATOR_TYPE_EMAIL = 'EMAIL';\nconst VALIDATOR_TYPE_FILE = 'FILE';\n\nexport const VALIDATOR_REQUIRE = () => ({ type: VALIDATOR_TYPE_REQUIRE });\nexport const VALIDATOR_FILE = () => ({ type: VALIDATOR_TYPE_FILE });\nexport const VALIDATOR_MINLENGTH = val => ({\n  type: VALIDATOR_TYPE_MINLENGTH,\n  val: val\n});\nexport const VALIDATOR_MAXLENGTH = val => ({\n  type: VALIDATOR_TYPE_MAXLENGTH,\n  val: val\n});\nexport const VALIDATOR_MIN = val => ({ type: VALIDATOR_TYPE_MIN, val: val });\nexport const VALIDATOR_MAX = val => ({ type: VALIDATOR_TYPE_MAX, val: val });\nexport const VALIDATOR_EMAIL = () => ({ type: VALIDATOR_TYPE_EMAIL });\n\nexport const validate = (value, validators) => {\n  let isValid = true;\n  for (const validator of validators) {\n    if (validator.type === VALIDATOR_TYPE_REQUIRE) {\n      isValid = isValid && value.trim().length > 0;\n    }\n    if (validator.type === VALIDATOR_TYPE_MINLENGTH) {\n      isValid = isValid && value.trim().length >= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MAXLENGTH) {\n      isValid = isValid && value.trim().length <= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MIN) {\n      isValid = isValid && +value >= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MAX) {\n      isValid = isValid && +value <= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_EMAIL) {\n      isValid = isValid && /^\\S+@\\S+\\.\\S+$/.test(value);\n    }\n  }\n  return isValid;\n};\n","import React, { useReducer, useEffect } from \"react\";\r\nimport \"./Input.css\";\r\nimport { validate } from \"../../util/validators\";\r\nconst inputReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"CHANGE\":\r\n      return {\r\n        ...state,\r\n        value: action.val,\r\n        isValid: validate(action.val, action.validators),\r\n      };\r\n    case \"TOUCH\":\r\n      return {\r\n        ...state,\r\n        isTouched: true,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst Input = (props) => {\r\n  const [inputState, dispatch] = useReducer(inputReducer, {\r\n    value: props.initialValue || \"\",\r\n    isTouched: false,\r\n    isValid: props.initialValid || false,\r\n  });\r\n  const { id, onInput } = props;\r\n  const { value, isValid } = inputState;\r\n  useEffect(() => {\r\n    props.onInput(id, value, isValid);\r\n  }, [id, onInput, value, isValid]);\r\n  const changeHandler = (event) => {\r\n    dispatch({\r\n      type: \"CHANGE\",\r\n      val: event.target.value,\r\n      validators: props.validators,\r\n    });\r\n  };\r\n  const touchHandler = () => {\r\n    dispatch({ type: \"TOUCH\" });\r\n  };\r\n  const element =\r\n    props.element === \"input\" ? (\r\n      <input\r\n        id={props.id}\r\n        type={props.type}\r\n        onChange={changeHandler}\r\n        onBlur={touchHandler}\r\n        placeholder={props.placeholder}\r\n        value={inputState.value}\r\n      />\r\n    ) : (\r\n      <textarea\r\n        id={props.id}\r\n        value={inputState.value}\r\n        rows={props.rows || 3}\r\n        onChange={changeHandler}\r\n        onBlur={touchHandler}\r\n      />\r\n    );\r\n  return (\r\n    <div\r\n      className={`form-control ${\r\n        !inputState.isValid && inputState.isTouched && \"form-control--invalid\"\r\n      }`}\r\n    >\r\n      <label htmlFor={props.id}>{props.label}</label>\r\n      {element}\r\n      {!inputState.isValid && inputState.isTouched && <p>{props.errorText}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './Button.css';\n\nconst Button = props => {\n  if (props.href) {\n    return (\n      <a\n        className={`button button--${props.size || 'default'} ${props.inverse &&\n          'button--inverse'} ${props.danger && 'button--danger'}`}\n        href={props.href}\n      >\n        {props.children}\n      </a>\n    );\n  }\n  if (props.to) {\n    return (\n      <Link\n        to={props.to}\n        exact={props.exact}\n        className={`button button--${props.size || 'default'} ${props.inverse &&\n          'button--inverse'} ${props.danger && 'button--danger'}`}\n      >\n        {props.children}\n      </Link>\n    );\n  }\n  return (\n    <button\n      className={`button button--${props.size || 'default'} ${props.inverse &&\n        'button--inverse'} ${props.danger && 'button--danger'}`}\n      type={props.type}\n      onClick={props.onClick}\n      disabled={props.disabled}\n    >\n      {props.children}\n    </button>\n  );\n};\n\nexport default Button;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './Backdrop.css';\n\nconst Backdrop = props => {\n  return ReactDOM.createPortal(\n    <div className=\"backdrop\" onClick={props.onClick}></div>,\n    document.getElementById('backdrop-hook')\n  );\n};\n\nexport default Backdrop;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { CSSTransition } from 'react-transition-group';\n\nimport Backdrop from './Backdrop';\nimport './Modal.css';\n\nconst ModalOverlay = props => {\n  const content = (\n    <div className={`modal ${props.className}`} style={props.style}>\n      <header className={`modal__header ${props.headerClass}`}>\n        <h2>{props.header}</h2>\n      </header>\n      <form\n        onSubmit={\n          props.onSubmit ? props.onSubmit : event => event.preventDefault()\n        }\n      >\n        <div className={`modal__content ${props.contentClass}`}>\n          {props.children}\n        </div>\n        <footer className={`modal__footer ${props.footerClass}`}>\n          {props.footer}\n        </footer>\n      </form>\n    </div>\n  );\n  return ReactDOM.createPortal(content, document.getElementById('modal-hook'));\n};\n\nconst Modal = props => {\n  return (\n    <React.Fragment>\n      {props.show && <Backdrop onClick={props.onCancel} />}\n      <CSSTransition\n        in={props.show}\n        mountOnEnter\n        unmountOnExit\n        timeout={200}\n        classNames=\"modal\"\n      >\n        <ModalOverlay {...props} />\n      </CSSTransition>\n    </React.Fragment>\n  );\n};\n\nexport default Modal;\n","import React from \"react\";\n\nimport Modal from \"./Modal\";\nimport Button from \"../FormElement/Button\";\n\nconst ErrorModal = (props) => {\n  return (\n    <Modal\n      onCancel={props.onClear}\n      header=\"An Error Occurred!\"\n      show={!!props.error}\n      footer={<Button onClick={props.onClear}>Okay</Button>}\n    >\n      <p>{props.error}</p>\n    </Modal>\n  );\n};\n\nexport default ErrorModal;\n","import React, { useRef, useState, useEffect } from \"react\";\r\nimport \"./2.2 ImageUpload.css\";\r\nimport Button from \"./Button\";\r\nconst ImageUpload = (props) => {\r\n  const [file, setFile] = useState();\r\n  const [previewUrl, setPreviewUrl] = useState();\r\n  const [isValid, setIsValid] = useState(false);\r\n  const filePickerRef = useRef();\r\n\r\n  const pickImageHandler = () => {\r\n    filePickerRef.current.click();\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!file) {\r\n      return;\r\n    }\r\n    const fileReader = new FileReader();\r\n    fileReader.onload = () => {\r\n      setPreviewUrl(fileReader.result);\r\n    };\r\n    fileReader.readAsDataURL(file);\r\n  }, [file]);\r\n\r\n  const pickedHandler = (event) => {\r\n    let pickedFile;\r\n    let fileIsValid;\r\n\r\n    if (event.target.files && event.target.files.length === 1) {\r\n      pickedFile = event.target.files[0];\r\n      setFile(pickedFile);\r\n      setIsValid(true);\r\n      fileIsValid = true;\r\n    } else {\r\n      setIsValid(false);\r\n      fileIsValid = false;\r\n    }\r\n    props.onInput(props.id, pickedFile, fileIsValid);\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-control\">\r\n      <input\r\n        ref={filePickerRef}\r\n        id={props.id}\r\n        style={{ display: \"none\" }}\r\n        accept=\".jpeg,.png,.jpg\"\r\n        type=\"file\"\r\n        onChange={pickedHandler}\r\n      />\r\n      <div className={`image-upload ${props.center && \"center\"}`}>\r\n        <div className=\"image-upload__preview\">\r\n          {previewUrl && <img src={previewUrl} alt=\"Preview\" />}\r\n          {!previewUrl && <p>please pick an image</p>}\r\n        </div>\r\n        <Button type=\"button\" onClick={pickImageHandler}>\r\n          Pick an image\r\n        </Button>\r\n      </div>\r\n      {!isValid && <p>{props.errorText}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageUpload;\r\n","import { createContext } from \"react\";\r\nexport const AuthContext = createContext({\r\n  currentUserId: null,\r\n  isLoggedIn: false,\r\n  login: () => {},\r\n  logout: () => {},\r\n});\r\n","import { useCallback, useReducer } from \"react\";\r\n\r\nconst formReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"INPUT_CHANGE\":\r\n      let formIsValid = true;\r\n      for (const inputId in state.inputs) {\r\n        if (!state.inputs[inputId]) {\r\n          continue;\r\n        }\r\n        if (inputId === action.inputId) {\r\n          formIsValid = formIsValid && action.isValid;\r\n        } else {\r\n          formIsValid = formIsValid && state.inputs[inputId].isValid;\r\n        }\r\n      }\r\n      return {\r\n        ...state,\r\n        inputs: {\r\n          ...state.inputs,\r\n          [action.inputId]: { value: action.value, isValid: action.isValid },\r\n        },\r\n        isValid: formIsValid,\r\n      };\r\n    case \"SET_DATA\": {\r\n      return {\r\n        inputs: action.inputs,\r\n        isValid: action.formIsValid,\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const useForm = (initialInputs, initialFormValidity) => {\r\n  const [formState, dispatch] = useReducer(formReducer, {\r\n    inputs: initialInputs,\r\n    isValid: initialFormValidity,\r\n  });\r\n  const InputHandler = useCallback((id, value, isValid) => {\r\n    dispatch({\r\n      type: \"INPUT_CHANGE\",\r\n      value: value,\r\n      isValid: isValid,\r\n      inputId: id,\r\n    });\r\n  }, []);\r\n  const setFormData = useCallback((inputData, formValidity) => {\r\n    dispatch({\r\n      type: \"SET_DATA\",\r\n      inputs: inputData,\r\n      formIsValid: formValidity,\r\n    });\r\n  }, []);\r\n  return [formState, InputHandler, setFormData];\r\n};\r\n","import React, { useState, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./PlaceForm.css\";\r\nimport Input from \"../../shared/components/FormElement/Input\";\r\nimport Button from \"../../shared/components/FormElement/Button\";\r\nimport ErrorModal from \"../../shared/components/UIElement/ErrorModal\";\r\nimport ImageUpload from \"../../shared/components/FormElement/ImageUpload\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport axios from \"axios\";\r\nimport {\r\n  VALIDATOR_REQUIRE,\r\n  VALIDATOR_MINLENGTH,\r\n} from \"../../shared/util/validators\";\r\nimport { useForm } from \"../../shared/hooks/form-hook\";\r\n\r\nconst NewPlace = (props) => {\r\n  const auth = useContext(AuthContext);\r\n  const history = useHistory();\r\n  const [error, setError] = useState();\r\n  const clearError = () => {\r\n    setError(null);\r\n  };\r\n  const [formState, InputHandler, setFormData] = useForm(\r\n    {\r\n      title: {\r\n        value: \"\",\r\n        isValid: false,\r\n      },\r\n      description: {\r\n        value: \"\",\r\n        isValid: false,\r\n      },\r\n      address: {\r\n        value: \"\",\r\n        isValid: false,\r\n      },\r\n      image: {\r\n        value: null,\r\n        isValid: false,\r\n      },\r\n    },\r\n    false\r\n  );\r\n\r\n  const onSubmitHandler = async (event) => {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append(\"title\", formState.inputs.title.value);\r\n      formData.append(\"description\", formState.inputs.description.value);\r\n      formData.append(\"address\", formState.inputs.address.value);\r\n      formData.append(\"creator\", auth.currentUserId);\r\n      formData.append(\"image\", formState.inputs.image.value);\r\n\r\n      const res = await axios({\r\n        url: `${process.env.REACT_APP_BACKEND_URL}/places/new`,\r\n        method: \"POST\",\r\n        data: formData,\r\n\r\n        headers: {\r\n          authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n        },\r\n      });\r\n      if (res.data.status === \"success\") {\r\n      }\r\n    } catch (err) {\r\n      setError(err.response.data.message);\r\n    }\r\n    history.push(`/${auth.currentUserId}/places`);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      <form className=\"place-form\" onSubmit={onSubmitHandler}>\r\n        <Input\r\n          id=\"title\"\r\n          element=\"input\"\r\n          type=\"text\"\r\n          label=\"Title\"\r\n          errorText=\" please enter a valid Title\"\r\n          validators={[VALIDATOR_REQUIRE()]}\r\n          onInput={InputHandler}\r\n        />\r\n        <ImageUpload\r\n          id=\"image\"\r\n          onInput={InputHandler}\r\n          errorText=\"please provide an image\"\r\n        />\r\n        <Input\r\n          id=\"description\"\r\n          element=\"textarea\"\r\n          label=\"description\"\r\n          errorText=\" please enter a valid description at least 5 character\"\r\n          validators={[VALIDATOR_REQUIRE(), VALIDATOR_MINLENGTH]}\r\n          onInput={InputHandler}\r\n        />\r\n        <Input\r\n          id=\"address\"\r\n          element=\"input\"\r\n          label=\"Address\"\r\n          errorText=\" please enter an address \"\r\n          validators={[VALIDATOR_REQUIRE()]}\r\n          onInput={InputHandler}\r\n        />\r\n        <Button type=\"submit\" disabled={!formState.isValid}>\r\n          Add Place\r\n        </Button>\r\n      </form>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default NewPlace;\r\n","import React from \"react\";\r\nimport \"./MainHeader.css\";\r\nconst MainHeader = (props) => {\r\n  return <header className=\"main-header\">{props.children}</header>;\r\n};\r\n\r\nexport default MainHeader;\r\n","import React, { useContext } from \"react\";\r\nimport \"./NavLinks.css\";\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/auth-context\";\r\nimport axios from \"axios\";\r\nconst NavLinks = (props) => {\r\n  const history = useHistory();\r\n  const auth = useContext(AuthContext);\r\n  const logoutUser = async () => {\r\n    try {\r\n      const res = await axios({\r\n        url: `${process.env.REACT_APP_BACKEND_URL}/users/logout`,\r\n        method: \"GET\",\r\n      });\r\n      if (res.data.status === \"success\") {\r\n        auth.logout();\r\n        history.push(\"/\");\r\n      }\r\n    } catch (err) {}\r\n  };\r\n  return (\r\n    <ul className=\"nav-links\">\r\n      <li>\r\n        <NavLink to=\"/\" exact>\r\n          ALL USERS\r\n        </NavLink>\r\n      </li>\r\n      {auth.isLoggedIn && (\r\n        <li>\r\n          <NavLink to={`/${auth.currentUserId}/places`}>MY PLACES</NavLink>\r\n        </li>\r\n      )}\r\n      {auth.isLoggedIn && (\r\n        <li>\r\n          <NavLink to=\"/places/new\">ADD PLACE</NavLink>\r\n        </li>\r\n      )}\r\n      {!auth.isLoggedIn && (\r\n        <li>\r\n          <NavLink to=\"/auth\"> AUTHENTICATE</NavLink>\r\n        </li>\r\n      )}\r\n      {auth.isLoggedIn && <button onClick={logoutUser}>logout</button>}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default NavLinks;\r\n","import React from \"react\";\r\nimport \"./SideDrawer.css\";\r\nimport ReactDom from \"react-dom\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\n\r\nconst SideDrawer = (props) => {\r\n  const content = (\r\n    <CSSTransition\r\n      in={props.show}\r\n      timeout={200}\r\n      classNames=\"slide-in-left\"\r\n      mountOnEnter\r\n      unmountOnExit\r\n    >\r\n      <aside className=\"side-drawer\" onClick={props.onClick}>\r\n        {props.children}\r\n      </aside>\r\n    </CSSTransition>\r\n  );\r\n  return ReactDom.createPortal(content, document.getElementById(\"drawer-hook\"));\r\n};\r\nexport default SideDrawer;\r\n","import React, { useState } from \"react\";\r\nimport \"./MainNavigation.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport MainHeader from \"./MainHeader\";\r\nimport NavLinks from \"./NavLinks\";\r\nimport SideDrawer from \"./SideDrawer\";\r\nimport Backdrop from \"../UIElement/Backdrop\";\r\nconst MainNavigation = (props) => {\r\n  const [drawerOpen, setDrawerOpen] = useState(false);\r\n  const openDrawer = () => {\r\n    setDrawerOpen(true);\r\n  };\r\n  const closeDrawer = () => {\r\n    setDrawerOpen(false);\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      {drawerOpen && <Backdrop onClick={closeDrawer} />}\r\n\r\n      <SideDrawer show={drawerOpen} onClick={closeDrawer}>\r\n        <nav className=\"main-navigation__drawer-nav\">\r\n          <NavLinks />\r\n        </nav>\r\n      </SideDrawer>\r\n\r\n      <MainHeader>\r\n        <button className=\"main-navigation__menu-btn\" onClick={openDrawer}>\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n        </button>\r\n        <h1 className=\"main-navigation__title\">\r\n          <Link to=\"/\">Your Visited Places</Link>\r\n        </h1>\r\n        <nav className=\"main-navigation__header-nav\">\r\n          <NavLinks />\r\n        </nav>\r\n      </MainHeader>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default MainNavigation;\r\n","import React, { useState, useContext } from \"react\";\r\nimport \"./PlaceItem.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Card from \"../../shared/components/UIElement/Card\";\r\nimport Button from \"../../shared/components/FormElement/Button\";\r\nimport Modal from \"../../shared/components/UIElement/Modal\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport ErrorModal from \"../../shared/components/UIElement/ErrorModal\";\r\nimport axios from \"axios\";\r\nconst PlaceItem = (props) => {\r\n  const history = useHistory();\r\n  const auth = useContext(AuthContext);\r\n  const [confirmDelete, setConfirmDelete] = useState(false);\r\n  const [error, setError] = useState();\r\n  const clearError = () => {\r\n    setError(false);\r\n  };\r\n  const showconfirmDelete = () => {\r\n    setConfirmDelete(true);\r\n  };\r\n  const cancelConfirmDelete = () => {\r\n    setConfirmDelete(false);\r\n  };\r\n  const sendDelete = async () => {\r\n    setConfirmDelete(false);\r\n    try {\r\n      const res = await axios({\r\n        url: `${process.env.REACT_APP_BACKEND_URL}/places/${props.id}`,\r\n        method: \"DELETE\",\r\n        headers: {\r\n          authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n        },\r\n      });\r\n      if (res.data.status === \"success\") {\r\n        console.log(\"deleted success\");\r\n        history.push(`/${auth.currentUserId}/places`);\r\n        props.onDelete(props.id);\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  if (error) {\r\n    return <ErrorModal error={error} onClear={clearError} />;\r\n  } else\r\n    return (\r\n      <React.Fragment>\r\n        <Modal\r\n          show={confirmDelete}\r\n          onCancel={cancelConfirmDelete}\r\n          header=\"Are you sure\"\r\n          footerClass=\"place-item__modal-actios\"\r\n          footer={\r\n            <React.Fragment>\r\n              <Button inverse onClick={cancelConfirmDelete}>\r\n                Cancel\r\n              </Button>\r\n              <Button danger onClick={sendDelete}>\r\n                Delete\r\n              </Button>\r\n            </React.Fragment>\r\n          }\r\n        >\r\n          <p>\r\n            Do you want to proceed and delete this place ?please note that it\r\n            can't be undone there after\r\n          </p>\r\n        </Modal>\r\n        <li className=\"place-item\">\r\n          <Card className=\"place-item__content\">\r\n            <div className=\"place-item__image\">\r\n              <img\r\n                src={`${process.env.REACT_APP_ASSET_URL}/${props.image}`}\r\n                alt={props.title}\r\n              />\r\n            </div>\r\n            <div className=\"place-item__info\">\r\n              <h2>{props.title}</h2>\r\n              <h3>{props.address}</h3>\r\n              <p>{props.description}</p>\r\n            </div>\r\n            <div className=\"place-item__actions\">\r\n              {auth.isLoggedIn && (\r\n                <Button to={`/places/${props.id}`}> Edit </Button>\r\n              )}\r\n              {auth.isLoggedIn && (\r\n                <Button danger onClick={showconfirmDelete}>\r\n                  Delete\r\n                </Button>\r\n              )}\r\n            </div>\r\n          </Card>\r\n        </li>\r\n      </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default PlaceItem;\r\n","import React from \"react\";\r\nimport \"./PlaceList.css\";\r\nimport Card from \"../../shared/components/UIElement/Card\";\r\nimport PlaceItem from \"./PlaceItem\";\r\nimport Button from \"../../shared/components/FormElement/Button\";\r\n\r\nconst PlaceList = (props) => {\r\n  if (props.items.length === 0) {\r\n    return (\r\n      <div className=\"place-list center\">\r\n        <Card>\r\n          <h2>No places found .Maybe create One ?</h2>\r\n          <Button to=\"/places/new\">Share Place</Button>\r\n        </Card>\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <ul className=\"place-list\">\r\n        {props.items.map((item, key) => {\r\n          return (\r\n            <PlaceItem\r\n              key={item._id}\r\n              id={item._id}\r\n              image={item.image}\r\n              title={item.title}\r\n              description={item.description}\r\n              address={item.address}\r\n              creatorId={item.creator}\r\n              coordinates={item.loaction}\r\n              onDelete={props.deletePlace}\r\n            />\r\n          );\r\n        })}\r\n      </ul>\r\n    );\r\n  }\r\n};\r\n\r\nexport default PlaceList;\r\n","import React from 'react';\n\nimport './LoadingSpinner.css';\n\nconst LoadingSpinner = props => {\n  return (\n    <div className={`${props.asOverlay && 'loading-spinner__overlay'}`}>\n      <div className=\"lds-dual-ring\"></div>\n    </div>\n  );\n};\n\nexport default LoadingSpinner;\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport PlaceList from \"../components/PlaceList\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport LoadingSpinner from \"../../shared/components/UIElement/LoadingSpinner\";\r\nimport ErrorModal from \"../../shared/components/UIElement/ErrorModal\";\r\nimport axios from \"axios\";\r\nconst UserPlaces = (props) => {\r\n  const auth = useContext(AuthContext);\r\n  const [data, setData] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState();\r\n  const clearError = () => {\r\n    setError(null);\r\n  };\r\n  const userId = useParams();\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const sendRequest = async () => {\r\n      try {\r\n        const res = await axios({\r\n          url: auth.currentUserId\r\n            ? `${process.env.REACT_APP_BACKEND_URL}/places/user/${auth.currentUserId}`\r\n            : `${process.env.REACT_APP_BACKEND_URL}/places/user/${userId.userId}`,\r\n        });\r\n        if (res.data.status === \"success\") {\r\n          setData(res.data.places);\r\n          setLoading(false);\r\n        }\r\n      } catch (err) {\r\n        setLoading(false);\r\n        setError(err.response.data.message);\r\n      }\r\n    };\r\n    sendRequest();\r\n  }, []);\r\n  const deletePlaceHandler = (todelete) => {\r\n    setData((prevData) => prevData.filter((place) => place._id !== todelete));\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      {!loading && !data && (\r\n        <div className=\"center\">\r\n          <h2>{error}</h2>\r\n        </div>\r\n      )}\r\n      {loading && !data && <LoadingSpinner />}\r\n      {!loading && data && (\r\n        <PlaceList items={data} deletePlace={deletePlaceHandler} />\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default UserPlaces;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport Input from \"../../shared/components/FormElement/Input\";\r\nimport ErrorModal from \"../../shared/components/UIElement/ErrorModal.js\";\r\nimport LoadingSpinner from \"../../shared/components/UIElement/LoadingSpinner\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport axios from \"axios\";\r\nimport {\r\n  VALIDATOR_REQUIRE,\r\n  VALIDATOR_MINLENGTH,\r\n} from \"../../shared/util/validators\";\r\nimport \"./PlaceForm.css\";\r\nimport Button from \"../../shared/components/FormElement/Button\";\r\nimport { useForm } from \"../../shared/hooks/form-hook\";\r\n\r\nconst UpdatePlace = (props) => {\r\n  const auth = useContext(AuthContext);\r\n  const history = useHistory();\r\n\r\n  const [data, setData] = useState();\r\n  const placeId = useParams().placeId;\r\n  const [loadedPlace, setLoadedPlace] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState();\r\n  const clearError = () => {\r\n    setError(null);\r\n  };\r\n  const [formState, InputHandler, setFormData] = useForm(\r\n    {\r\n      title: {\r\n        value: \"\",\r\n        isValid: false,\r\n      },\r\n      description: {\r\n        value: \"\",\r\n        isValid: false,\r\n      },\r\n    },\r\n    false\r\n  );\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const sendRequest = async () => {\r\n      try {\r\n        const result = await axios({\r\n          url: `${process.env.REACT_APP_BACKEND_URL}/places/${placeId}`,\r\n        });\r\n        if (result.data.status === \"success\") {\r\n          setLoadedPlace(result.data.place);\r\n          console.log(result.data.place);\r\n          setFormData(\r\n            {\r\n              title: {\r\n                value: result.data.place.title,\r\n                isValid: true,\r\n              },\r\n              description: {\r\n                value: result.data.place.description,\r\n                isValid: true,\r\n              },\r\n            },\r\n            true\r\n          );\r\n          setLoading(false);\r\n        }\r\n      } catch (err) {\r\n        setError(err.response.data.message);\r\n        setLoading(false);\r\n      }\r\n    };\r\n    sendRequest();\r\n  }, []);\r\n\r\n  const placeUpdateSubmitHandler = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      const res = await axios({\r\n        url: `${process.env.REACT_APP_BACKEND_URL}/places/${placeId}`,\r\n        method: \"PATCH\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n        },\r\n        data: {\r\n          title: formState.inputs.title.value,\r\n          description: formState.inputs.description.value,\r\n        },\r\n      });\r\n      if (res.data.status) {\r\n        console.log(res.data.message);\r\n        history.push(`/${auth.currentUserId}/places`);\r\n        setLoading(false);\r\n      }\r\n    } catch (err) {\r\n      setError(err.response.data.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"center\">\r\n        <LoadingSpinner />\r\n      </div>\r\n    );\r\n  } else if (!loadedPlace && !error) {\r\n    return (\r\n      <div className=\"center\">\r\n        <h2>could not found this place</h2>\r\n      </div>\r\n    );\r\n  } else\r\n    return (\r\n      <React.Fragment>\r\n        <ErrorModal error={error} onClear={clearError} />\r\n        <form className=\"place-form\" onSubmit={placeUpdateSubmitHandler}>\r\n          <Input\r\n            id=\"title\"\r\n            element=\"input\"\r\n            type=\"text\"\r\n            label=\"Title\"\r\n            validators={[VALIDATOR_REQUIRE()]}\r\n            errorText=\"please enter a valid Title\"\r\n            onInput={InputHandler}\r\n            initialValue={loadedPlace.title}\r\n            initialValid={true}\r\n          />\r\n          <Input\r\n            id=\"description\"\r\n            element=\"textarea\"\r\n            label=\"Description\"\r\n            validators={[VALIDATOR_MINLENGTH(5)]}\r\n            errorText=\"please enter a valid Description min 5 characters\"\r\n            onInput={InputHandler}\r\n            initialValue={loadedPlace.description}\r\n            initialValid={true}\r\n          />\r\n          <Button type=\"submit\" disabled={!formState.isValid}>\r\n            Update Place\r\n          </Button>\r\n        </form>\r\n      </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default UpdatePlace;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./Auth.css\";\r\nimport Input from \"../../shared/components/FormElement/Input\";\r\nimport Button from \"../../shared/components/FormElement/Button\";\r\nimport Card from \"../../shared/components/UIElement/Card\";\r\nimport ErrorModal from \"../../shared/components/UIElement/ErrorModal\";\r\nimport ImageUpload from \"../../shared/components/FormElement/ImageUpload\";\r\nimport axios from \"axios\";\r\nimport {\r\n  VALIDATOR_EMAIL,\r\n  VALIDATOR_MINLENGTH,\r\n  VALIDATOR_REQUIRE,\r\n} from \"../../shared/util/validators\";\r\nimport { useForm } from \"../../shared/hooks/form-hook\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\n\r\nconst Auth = (props) => {\r\n  const [error, setError] = useState(null);\r\n  const clearError = () => {\r\n    setError(null);\r\n  };\r\n  const history = useHistory();\r\n  const auth = useContext(AuthContext);\r\n  const [isLoginMode, setIsLoginMode] = useState(true);\r\n  const [formState, inputHandler, setFormData] = useForm(\r\n    {\r\n      email: {\r\n        value: \"\",\r\n        isValid: false,\r\n      },\r\n      password: {\r\n        value: \"\",\r\n        isValid: false,\r\n      },\r\n    },\r\n    false\r\n  );\r\n  const switchFormHandler = () => {\r\n    if (!isLoginMode) {\r\n      setFormData(\r\n        {\r\n          ...formState.inputs,\r\n          name: undefined,\r\n        },\r\n        formState.inputs.email.isValid && formState.inputs.password.isValid\r\n      );\r\n    } else {\r\n      setFormData(\r\n        {\r\n          ...formState.inputs,\r\n          name: {\r\n            value: \"\",\r\n            isValid: false,\r\n          },\r\n          image: {\r\n            value: null,\r\n            isValid: false,\r\n          },\r\n        },\r\n        false\r\n      );\r\n    }\r\n    setIsLoginMode((prevMode) => !prevMode);\r\n  };\r\n  const authSubmitHandler = async (event) => {\r\n    event.preventDefault();\r\n\r\n    if (!isLoginMode) {\r\n      try {\r\n        const formData = new FormData();\r\n        formData.append(\"name\", formState.inputs.name.value);\r\n        formData.append(\"email\", formState.inputs.email.value);\r\n        formData.append(\"password\", formState.inputs.password.value);\r\n        formData.append(\"image\", formState.inputs.image.value);\r\n\r\n        const res = await axios({\r\n          method: \"POST\",\r\n          url: `${process.env.REACT_APP_BACKEND_URL}/users/signup`,\r\n          data: formData,\r\n        });\r\n        if (res.data.status === \"success\") {\r\n          auth.login(res.data.token, res.data.user._id);\r\n          history.push(\"/\");\r\n        }\r\n      } catch (err) {\r\n        console.log(err.response.data.message);\r\n        setError(err.response.data.message);\r\n      }\r\n    } else {\r\n      try {\r\n        const res = await axios({\r\n          url: `${process.env.REACT_APP_BACKEND_URL}/users/login`,\r\n          method: \"POST\",\r\n          data: {\r\n            email: formState.inputs.email.value,\r\n            password: formState.inputs.password.value,\r\n          },\r\n        });\r\n        if (res.data.status === \"success\") {\r\n          auth.login(res.data.token, res.data.userId);\r\n          console.log(res.data.token);\r\n          history.push(\"/\");\r\n        }\r\n      } catch (err) {\r\n        console.log(err.response.data.message);\r\n        setError(err.response.data.message);\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      <Card className=\"authentication\">\r\n        <h2>{!isLoginMode ? \"Signup\" : \"Login\"}</h2>\r\n        <hr />\r\n        <form className=\"place-form\" onSubmit={authSubmitHandler}>\r\n          {!isLoginMode && (\r\n            <Input\r\n              id=\"name\"\r\n              element=\"input\"\r\n              type=\"text\"\r\n              label=\"Name\"\r\n              onInput={inputHandler}\r\n              validators={[VALIDATOR_REQUIRE()]}\r\n              errorText=\"please enter your name\"\r\n            />\r\n          )}\r\n          {!isLoginMode && (\r\n            <ImageUpload\r\n              id=\"image\"\r\n              center\r\n              onInput={inputHandler}\r\n              errorText=\"please provide an Image\"\r\n            />\r\n          )}\r\n\r\n          <Input\r\n            element=\"input\"\r\n            id=\"email\"\r\n            type=\"email\"\r\n            label=\"E-email\"\r\n            validators={[VALIDATOR_EMAIL()]}\r\n            errorText=\"please enter a valid Email\"\r\n            onInput={inputHandler}\r\n          />\r\n          <Input\r\n            element=\"input\"\r\n            id=\"password\"\r\n            type=\"password\"\r\n            label=\"Password\"\r\n            validators={[VALIDATOR_MINLENGTH(5)]}\r\n            errorText=\"please enter a valid Password at least 5 charcters\"\r\n            onInput={inputHandler}\r\n          />\r\n\r\n          <Button type=\"submit\" disabled={!formState.isValid}>\r\n            {!isLoginMode ? \"Signup\" : \"Login\"}\r\n          </Button>\r\n        </form>\r\n        <Button inverse onClick={switchFormHandler}>\r\n          switch to {isLoginMode ? \"signup\" : \"login\"}\r\n        </Button>\r\n      </Card>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n","import React, { useState, useCallback, useEffect } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Redirect,\n  Switch,\n} from \"react-router-dom\";\nimport Users from \"./user/pages/Users\";\nimport NewPlace from \"./places/pages/NewPlace\";\nimport MainNavigation from \"./shared/components/Navigation/MainNavigation\";\nimport UserPlaces from \"./places/pages/UserPlaces\";\nimport UpdatePlace from \"./places/pages/UpdatePlace\";\nimport Auth from \"./user/pages/Auth\";\nimport { AuthContext } from \"./shared/context/auth-context\";\n\nfunction App() {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [storage, setStorage] = useState(null);\n  const [currentUserId, setCurrentUserId] = useState();\n\n  const login = useCallback((token, userId) => {\n    localStorage.setItem(\"jwt\", token);\n    localStorage.setItem(\"currentUser\", userId);\n    setStorage(localStorage.getItem(\"jwt\"));\n\n    setCurrentUserId(userId);\n    setIsLoggedIn(true);\n  }, []);\n  const logout = useCallback(() => {\n    setIsLoggedIn(false);\n    localStorage.clear();\n    setCurrentUserId(null);\n    setStorage(null);\n  }, []);\n  useEffect(() => {\n    const storedToken = localStorage.getItem(\"jwt\");\n    const storedId = localStorage.getItem(\"currentUser\");\n\n    if (storedToken) {\n      login(storedToken, storedId);\n    }\n  }, [login]);\n\n  let routes;\n  if (storage) {\n    routes = (\n      <Switch>\n        <Route path=\"/\" exact>\n          <Users />\n        </Route>\n        <Route path=\"/places/new\" exact>\n          <NewPlace />\n        </Route>\n        <Route path=\"/places/:placeId\" exact>\n          <UpdatePlace />\n        </Route>\n        <Route path=\"/:userId/places\" exact>\n          <UserPlaces />\n        </Route>\n        <Redirect to=\"/\" />\n      </Switch>\n    );\n  } else {\n    routes = (\n      <Switch>\n        <Route path=\"/\" exact>\n          <Users />\n        </Route>\n        <Route path=\"/:userId/places\" exact>\n          <UserPlaces />\n        </Route>\n\n        <Route path=\"/auth\" exact>\n          <Auth />\n        </Route>\n        <Redirect to=\"auth\" />\n      </Switch>\n    );\n  }\n  return (\n    <AuthContext.Provider\n      value={{\n        currentUserId: currentUserId,\n        isLoggedIn: isLoggedIn,\n        login: login,\n        logout: logout,\n      }}\n    >\n      <Router>\n        <MainNavigation />\n        <main>{routes}</main>\n      </Router>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}